<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form method="POST" action="ms.php">
        <label for="fromd">Start Date:</label>
        <input type="date" id="fromd" name="fromd" oninput="calculateDays()" required>
          
        <label for="tod">End Date:</label>
        <input type="date" id="tod" name="tod" oninput="calculateDays()" required>
          
        <label for="days">Number of Days:</label>
        <input type="text" id="days" name="days" readonly>
          
        <label for="dest">Destination:</label>
        <input type="text" id="dest" name="dest" required>
          
        <label for="reason">Reason:</label>
        <input type="text" id="reason" name="reason" required>

        <input type="submit" value="Submit" onclick="calculateDays()"> 
      </form>
    <form method="POST" action="studentstat.php">
        <button type="submit">Show</button>
    </form>
    <a href="student.html">back</a>

      <script>
      function calculateDays() {
        var startDate = document.getElementById("fromd").value;
        var endDate = document.getElementById("tod").value;
          
        if (startDate && endDate) { // Check if both dates are entered
          var oneDay = 24*60*60*1000; // Number of milliseconds in a day
            
          // Split the date values and create Date objects
          var startComponents = startDate.split('-');
          var endComponents = endDate.split('-');
          var start = Date.UTC(startComponents[0], startComponents[1] - 1, startComponents[2]);
          var end = Date.UTC(endComponents[0], endComponents[1] - 1, endComponents[2]);
      
          var diffDays = Math.round(Math.abs((start - end) / oneDay));
          if (start > end) { // Check if "from" date is after "to" date
            alert("Please enter a valid date range. The 'from' date should not be after the 'to' date.");
            document.getElementById("fromd").value = "";
            document.getElementById("tod").value = "";
            document.getElementById("days").value = "";
          } else {
            document.getElementById("days").value = diffDays;
          }
        }
      }
      </script>
      
</body>
</html>
